{"remainingRequest":"E:\\code\\energy\\qiantai\\vue-energy\\node_modules\\thread-loader\\dist\\cjs.js!E:\\code\\energy\\qiantai\\vue-energy\\node_modules\\babel-loader\\lib\\index.js!E:\\code\\energy\\qiantai\\vue-energy\\src\\api\\utils\\request.js","dependencies":[{"path":"E:\\code\\energy\\qiantai\\vue-energy\\src\\api\\utils\\request.js","mtime":1554971842104},{"path":"E:\\code\\energy\\qiantai\\vue-energy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\energy\\qiantai\\vue-energy\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\energy\\qiantai\\vue-energy\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"E:\\\\code\\\\energy\\\\qiantai\\\\vue-energy\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport Vue from 'vue';\nimport axios from 'axios'; // 创建axios实例\n\nvar service = axios.create({\n  //baseURL: process.env.BASE_API, // api的base_url\n  timeout: 1000 * 30,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8'\n  }\n}); // request拦截器\n\nservice.interceptors.request.use(function (config) {\n  config.headers['Authorization'] = Vue.cookie.get('token');\n  return config;\n}, function (error) {\n  return _Promise.reject(error);\n}); // response拦截器\n\nservice.interceptors.response.use(function (response) {\n  console.log(response);\n\n  if (response.data && response.data.msg != 'success' || response.data && response.data.status != 0) {\n    // -1, token失效 401 没有token\n    Vue.cookie.delete('token');\n    Vue.router.push({\n      name: 'login'\n    });\n  }\n\n  return response;\n}, function (error) {\n  return _Promise.reject(error);\n});\nexport default service;",null]}