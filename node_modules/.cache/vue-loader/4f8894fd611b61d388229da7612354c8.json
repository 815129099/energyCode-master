{"remainingRequest":"D:\\code\\energyCode-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\energyCode-master\\src\\components\\page\\Record.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\energyCode-master\\src\\components\\page\\Record.vue","mtime":1564553326000},{"path":"D:\\code\\energyCode-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606188053867},{"path":"D:\\code\\energyCode-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1564553326000},{"path":"D:\\code\\energyCode-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606188053867},{"path":"D:\\code\\energyCode-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1564553326000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport API from \"@/api\";\nimport Vue from \"vue\";\nexport default {\n  data() {\n    return {\n      //表格当前页数据\n      tableData: [],\n      //多选数组\n      multipleSelection: [],\n      //搜索条件\n      criteria: \"\",\n      //下拉菜单选项\n      select: \"\",\n      //默认每页数据量\n      pagesize: 10,\n      //默认高亮行数据id\n      highlightId: -1,\n      //当前页码\n      currentPage: 1,\n      //查询的页码\n      start: 1,\n      //默认数据总数\n      totalCount: 1000,\n      formLabelWidth: \"120px\"\n    };\n  },\n  created() {\n    this.loadData(this.criteria, this.currentPage, this.pagesize);\n  },\n  methods: {\n    //从服务器读取数据\n    loadData: function(criteria, pageNum, pageSize) {\n      let params = {\n        parameter: criteria,\n        pageNum: pageNum,\n        pageSize: pageSize\n      };\n      API.userUtil\n        .getRecord(params)\n        .then(({ data }) => {\n          console.log(data);\n          if (data.status == 0) {\n            this.tableData = data.data.recordData;\n            this.totalCount = data.data.number;\n          } else {\n            //this.$Message.error(data.msg);\n            this.$message(\"请求失败！\");\n          }\n        })\n        .catch(data => {\n          this.$message(\"请求失败ww！\");\n          console.log(data);\n        });\n    },\n\n    //多选响应\n    handleSelectionChange: function(val) {\n      this.multipleSelection = val;\n    },\n\n    //点击行响应\n    handleclick: function(row, event, column) {\n      this.highlightId = row.id;\n    },\n\n    //搜索\n    search: function() {\n      console.log(this.select);\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    },\n    exportUser() {\n      window.location.href = \"http://localhost:8088/api/exportUser.do\";\n    },\n\n    //改变当前点击的行的class，高亮当前行\n    tableRowClassName: function(row, index) {\n      if (row.id == this.highlightId) {\n        return \"info-row\";\n      }\n    },\n\n    //每页显示数据量变更\n    handleSizeChange: function(val) {\n      this.pagesize = val;\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    },\n\n    //页码变更\n    handleCurrentChange: function(val) {\n      this.currentPage = val;\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    }\n  }\n};\n",{"version":3,"sources":["Record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Record.vue","sourceRoot":"src\\components\\page","sourcesContent":["<template>\n  <div>\n    <!--\n    <div id=\"top\">\t\t\t\n\t\t\t<span>\n\t\t\t\t<el-button type=\"text\" @click=\"dialogFormVisible = true\" style=\"color:white\" >添加</el-button>\n\t\t\t\t<el-button type=\"text\" @click=\"deletenames\" style=\"color:white\">批量删除</el-button>\n\t\t\t</span>\t\t\t\t\t\t\n\t\t</div>\t\n    <br/>-->\n    <div style=\"margin-top:15px\">\n      <el-input placeholder=\"请输入内容\" v-model=\"criteria\" style=\"padding-bottom:10px;\">\n        <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\n          <!--<el-option label=\"id\" value=\"1\"></el-option>-->\n          <el-option label=\"工号\" value=\"1\"></el-option>\n          <el-option label=\"IP\" value=\"2\"></el-option>\n        </el-select>\n        <el-button slot=\"append\" icon=\"el-icon-lx-search\" v-on:click=\"search\">查询</el-button>\n        <el-button slot=\"append\" icon=\"el-icon-lx-upload\" v-on:click=\"exportUser\">导出</el-button>\n      </el-input>\n\n      <el-table\n        ref=\"testTable\"\n        :data=\"tableData\"\n        style=\"width:100%\"\n        border\n        :default-sort=\"{prop: 'id', order: 'ascending'}\"\n        @selection-change=\"handleSelectionChange\"\n        @row-click=\"handleclick\"\n        :row-class-name=\"tableRowClassName\"\n      >\n        <el-table-column prop=\"id\" label=\"Id\" sortable show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"userName\" label=\"工号\" sortable></el-table-column>\n        <el-table-column prop=\"ip\" label=\"IP\"  sortable></el-table-column>\n        <el-table-column prop=\"createdDateTime\" label=\"创建时间\" sortable></el-table-column>\n      </el-table>\n\n      <div align=\"center\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5,10, 20, 30, 40]\"\n          :page-size=\"pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"totalCount\"\n        ></el-pagination>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport API from \"@/api\";\nimport Vue from \"vue\";\nexport default {\n  data() {\n    return {\n      //表格当前页数据\n      tableData: [],\n      //多选数组\n      multipleSelection: [],\n      //搜索条件\n      criteria: \"\",\n      //下拉菜单选项\n      select: \"\",\n      //默认每页数据量\n      pagesize: 10,\n      //默认高亮行数据id\n      highlightId: -1,\n      //当前页码\n      currentPage: 1,\n      //查询的页码\n      start: 1,\n      //默认数据总数\n      totalCount: 1000,\n      formLabelWidth: \"120px\"\n    };\n  },\n  created() {\n    this.loadData(this.criteria, this.currentPage, this.pagesize);\n  },\n  methods: {\n    //从服务器读取数据\n    loadData: function(criteria, pageNum, pageSize) {\n      let params = {\n        parameter: criteria,\n        pageNum: pageNum,\n        pageSize: pageSize\n      };\n      API.userUtil\n        .getRecord(params)\n        .then(({ data }) => {\n          console.log(data);\n          if (data.status == 0) {\n            this.tableData = data.data.recordData;\n            this.totalCount = data.data.number;\n          } else {\n            //this.$Message.error(data.msg);\n            this.$message(\"请求失败！\");\n          }\n        })\n        .catch(data => {\n          this.$message(\"请求失败ww！\");\n          console.log(data);\n        });\n    },\n\n    //多选响应\n    handleSelectionChange: function(val) {\n      this.multipleSelection = val;\n    },\n\n    //点击行响应\n    handleclick: function(row, event, column) {\n      this.highlightId = row.id;\n    },\n\n    //搜索\n    search: function() {\n      console.log(this.select);\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    },\n    exportUser() {\n      window.location.href = \"http://localhost:8088/api/exportUser.do\";\n    },\n\n    //改变当前点击的行的class，高亮当前行\n    tableRowClassName: function(row, index) {\n      if (row.id == this.highlightId) {\n        return \"info-row\";\n      }\n    },\n\n    //每页显示数据量变更\n    handleSizeChange: function(val) {\n      this.pagesize = val;\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    },\n\n    //页码变更\n    handleCurrentChange: function(val) {\n      this.currentPage = val;\n      this.loadData(this.criteria, this.currentPage, this.pagesize);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.el-select .el-input {\n  width: 110px;\n}\n\n.el-table .info-row {\n  background: #c9e5f5;\n}\n\n#top {\n  background: #20a0ff;\n  padding: 5px;\n  overflow: hidden;\n}\n</style>\n"]}]}