{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1500a110\"],{\"1bf2\":function(e,t,a){},\"2e7b\":function(e,t,a){\"use strict\";var r=a(\"1bf2\"),l=a.n(r);l.a},ddc3:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticStyle:{\"margin-top\":\"15px\"}},[a(\"el-input\",{staticStyle:{\"padding-bottom\":\"10px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.criteria,callback:function(t){e.criteria=t},expression:\"criteria\"}},[a(\"el-select\",{attrs:{slot:\"prepend\",placeholder:\"请选择\"},slot:\"prepend\",model:{value:e.select,callback:function(t){e.select=t},expression:\"select\"}},[a(\"el-option\",{attrs:{label:\"工号\",value:\"1\"}}),a(\"el-option\",{attrs:{label:\"姓名\",value:\"2\"}}),a(\"el-option\",{attrs:{label:\"状态\",value:\"3\"}}),a(\"el-option\",{attrs:{label:\"电话\",value:\"4\"}})],1),a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-lx-search\"},on:{click:e.search},slot:\"append\"},[e._v(\"查询\")]),a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-lx-add\"},on:{click:e.add},slot:\"append\"},[e._v(\"添加\")]),a(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-lx-upload\"},on:{click:e.exportUser},slot:\"append\"},[e._v(\"导出\")])],1),a(\"el-table\",{ref:\"testTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",\"default-sort\":{prop:\"id\",order:\"ascending\"},\"row-class-name\":e.tableRowClassName},on:{\"selection-change\":e.handleSelectionChange,\"row-click\":e.handleclick}},[a(\"el-table-column\",{attrs:{type:\"selection\"}}),a(\"el-table-column\",{attrs:{prop:\"geNumber\",width:\"95px\",label:\"工号\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"geName\",label:\"姓名\",width:\"88px\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"userState\",label:\"状态\",width:\"88px\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"phone\",label:\"电话\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"email\",label:\"邮箱\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建时间\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"updateTime\",label:\"修改时间\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),a(\"el-button\",{attrs:{size:\"small\",type:\"danger\"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1),a(\"el-dialog\",{attrs:{title:\"修改用户\",visible:e.dialogFormVisible},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[a(\"el-form\",{ref:\"editUserForm\",attrs:{model:e.editUserForm,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"用户工号\",\"label-width\":e.formLabelWidth,prop:\"geNumber\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.editUserForm.geNumber,callback:function(t){e.$set(e.editUserForm,\"geNumber\",t)},expression:\"editUserForm.geNumber\"}})],1),a(\"el-form-item\",{attrs:{label:\"用户状态\",\"label-width\":e.formLabelWidth,prop:\"userState\"}},[a(\"el-select\",{attrs:{placeholder:\"状态\"},model:{value:e.editUserForm.userState,callback:function(t){e.$set(e.editUserForm,\"userState\",t)},expression:\"editUserForm.userState\"}},[a(\"el-option\",{attrs:{label:\"有效\",value:\"有效\"}}),a(\"el-option\",{attrs:{label:\"无效\",value:\"无效\"}})],1)],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.editSubmitForm(\"editUserForm\")}}},[e._v(\"确 定\")])],1)],1),a(\"el-dialog\",{attrs:{title:\"添加用户\",visible:e.addFormVisible},on:{\"update:visible\":function(t){e.addFormVisible=t}}},[a(\"el-form\",{ref:\"addUserForm\",attrs:{model:e.addUserForm,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"工号\",\"label-width\":e.formLabelWidth,prop:\"geNumber\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.addUserForm.geNumber,callback:function(t){e.$set(e.addUserForm,\"geNumber\",t)},expression:\"addUserForm.geNumber\"}})],1),a(\"el-form-item\",{attrs:{label:\"姓名\",\"label-width\":e.formLabelWidth,prop:\"geName\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.addUserForm.geName,callback:function(t){e.$set(e.addUserForm,\"geName\",t)},expression:\"addUserForm.geName\"}})],1),a(\"el-form-item\",{attrs:{label:\"状态\",\"label-width\":e.formLabelWidth,prop:\"userState\"}},[a(\"el-select\",{attrs:{placeholder:\"状态\"},model:{value:e.addUserForm.userState,callback:function(t){e.$set(e.addUserForm,\"userState\",t)},expression:\"addUserForm.userState\"}},[a(\"el-option\",{attrs:{label:\"有效\",value:\"有效\"}}),a(\"el-option\",{attrs:{label:\"无效\",value:\"无效\"}})],1)],1),a(\"el-form-item\",{attrs:{label:\"手机号\",\"label-width\":e.formLabelWidth,prop:\"phone\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.addUserForm.phone,callback:function(t){e.$set(e.addUserForm,\"phone\",t)},expression:\"addUserForm.phone\"}})],1),a(\"el-form-item\",{attrs:{label:\"邮箱\",\"label-width\":e.formLabelWidth,prop:\"email\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.addUserForm.email,callback:function(t){e.$set(e.addUserForm,\"email\",t)},expression:\"addUserForm.email\"}})],1),a(\"el-form-item\",{attrs:{label:\"密码\",\"label-width\":e.formLabelWidth,prop:\"password\"}},[a(\"el-input\",{attrs:{\"auto-complete\":\"off\"},model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,\"password\",t)},expression:\"addUserForm.password\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.addFormVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.addSubmitForm(\"addUserForm\")}}},[e._v(\"确 定\")])],1)],1),a(\"div\",{attrs:{align:\"center\"}},[a(\"el-pagination\",{attrs:{\"current-page\":e.currentPage,\"page-sizes\":[5,10,20,30,40],\"page-size\":e.pagesize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.totalCount},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)],1)])},l=[],s=(a(\"cadf\"),a(\"551c\"),a(\"097d\"),a(\"365c\")),o={data:function(){return{tableData:[],multipleSelection:[],criteria:\"\",select:\"\",pagesize:10,highlightId:-1,currentPage:1,start:1,totalCount:1e3,editUserForm:{geNumber:\"\",userState:\"\"},addUserForm:{geNumber:\"\",geName:\"\",userState:\"\",phone:\"\",email:\"\",password:\"\"},dialogFormVisible:!1,addFormVisible:!1,formLabelWidth:\"120px\",rules:{geNumber:[{required:!0,message:\"请填写工号\",trigger:\"blur\"},{min:7,max:7,message:\"请填写7个字符的工号\",trigger:\"blur\"}],geName:[{required:!0,message:\"请填写姓名\",trigger:\"blur\"},{min:2,max:4,message:\"请填写2-4个字符的姓名\",trigger:\"blur\"}],password:[{required:!0,message:\"请填写密码\",trigger:\"blur\"},{min:6,max:10,message:\"请填写6-10个字符的密码\",trigger:\"blur\"}],userState:[{required:!0,message:\"请选择状态\",trigger:\"blur\"}],phone:[{validator:function(e,t,a){var r=s[\"a\"].validate.VDATA(t,{required:{msg:\"请输入手机号\"},mphone:{msg:\"请输入有效的手机号\"}});r.result?a():a(new Error(r.msg))},trigger:\"blur\"}],email:[{validator:function(e,t,a){var r=s[\"a\"].validate.VDATA(t,{required:{msg:\"请输入邮箱\"},email:{msg:\"请输入有效的邮箱\"}});r.result?a():a(new Error(r.msg))},trigger:\"blur\"}]}}},created:function(){this.loadData(this.criteria,this.currentPage,this.pagesize)},methods:{loadData:function(e,t,a){var r=this,l={parameter:e,pageNum:t,pageSize:a};s[\"a\"].userUtil.getData(l).then(function(e){var t=e.data;console.log(t),0==t.status?(r.tableData=t.data.userData,r.totalCount=t.data.number):r.$message(\"请求失败！\")}).catch(function(e){r.$message(\"请求失败ww！\"),console.log(e)})},handleSelectionChange:function(e){this.multipleSelection=e},handleclick:function(e,t,a){this.highlightId=e.id},handleEdit:function(e,t){this.editUserForm.geNumber=t.geNumber,this.editUserForm.userState=t.userState,this.dialogFormVisible=!0},editSubmitForm:function(e){var t=this,a={geNumber:this.editUserForm.geNumber,userState:this.editUserForm.userState};this.$refs[e].validate(function(e){if(!e)return t.$message.error(\"请求失败！\"),!1;s[\"a\"].userUtil.updateUser(a).then(function(e){var a=e.data;1==a.data?(t.dialogFormVisible=!1,t.loadData(t.criteria,t.currentPage,t.pagesize)):t.$message(\"请求失败！\")}).catch(function(e){t.$message(\"请求失败！\"),console.log(e)})})},addSubmitForm:function(e){var t=this,a={geNumber:this.addUserForm.geNumber,geName:this.addUserForm.geName,userState:this.addUserForm.userState,phone:this.addUserForm.phone,email:this.addUserForm.email,password:this.addUserForm.password};this.$refs[e].validate(function(e){if(!e)return!1;s[\"a\"].userUtil.addUser(a).then(function(e){var a=e.data;1==a.data?(t.addFormVisible=!1,t.$message(\"添加成功!\"),t.loadData(t.criteria,t.currentPage,t.pagesize)):t.$message(\"请求失败！\")}).catch(function(e){t.$message(\"请求失败！\"),console.log(e)})})},handleDelete:function(e,t){var a=this,r={geNumber:t.geNumber};this.$confirm(\"此操作将永久删除“\"+t.geNumber+\"”, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){s[\"a\"].userUtil.deleteUser(r).then(function(e){var t=e.data;1==t.data?(a.$message({type:\"success\",message:\"删除成功!\"}),a.loadData(a.criteria,a.currentPage,a.pagesize)):a.$message({type:\"info\",message:\"删除失败\"})}).catch(function(e){a.$message(\"请求失败！\")}),a.$message({type:\"success\",message:\"删除成功!\"})}).catch(function(){a.$message({type:\"info\",message:\"已取消删除\"})})},search:function(){console.log(this.select),this.loadData(this.criteria,this.currentPage,this.pagesize)},add:function(){this.addFormVisible=!0},exportUser:function(){window.location.href=\"http://localhost:8088/api/exportUser.do\"},tableRowClassName:function(e,t){if(e.id==this.highlightId)return\"info-row\"},handleSizeChange:function(e){this.pagesize=e,this.loadData(this.criteria,this.currentPage,this.pagesize)},handleCurrentChange:function(e){this.currentPage=e,this.loadData(this.criteria,this.currentPage,this.pagesize)}}},i=o,n=(a(\"2e7b\"),a(\"2877\")),d=Object(n[\"a\"])(i,r,l,!1,null,\"872e00ca\",null);d.options.__file=\"User.vue\";t[\"default\"]=d.exports}}]);","extractedComments":[]}