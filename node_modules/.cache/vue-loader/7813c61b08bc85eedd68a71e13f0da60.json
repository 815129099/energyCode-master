{"remainingRequest":"E:\\code\\energy\\qiantai\\vue-energy-copy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\energy\\qiantai\\vue-energy-copy\\src\\components\\user\\role.vue?vue&type=template&id=5aa35f55&scoped=true&","dependencies":[{"path":"E:\\code\\energy\\qiantai\\vue-energy-copy\\src\\components\\user\\role.vue","mtime":1563503996015},{"path":"E:\\code\\energy\\qiantai\\vue-energy-copy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\energy\\qiantai\\vue-energy-copy\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"E:\\code\\energy\\qiantai\\vue-energy-copy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\energy\\qiantai\\vue-energy-copy\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <div class=\"filter-container\">\n    <el-form>\n      <el-form-item>\n        <el-button type=\"success\" icon=\"plus\" v-if=\"hasPerm('user:add')\" @click=\"showCreate\">添加角色</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n  <el-table\n    :data=\"list\"\n    v-loading.body=\"listLoading\"\n    element-loading-text=\"拼命加载中\"\n    border\n    fit\n    highlight-current-row\n  >\n    <el-table-column align=\"center\" label=\"序号\" width=\"80\">\n      <template slot-scope=\"scope\">\n        <span v-text=\"getIndex(scope.$index)\"></span>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"角色\" prop=\"roleName\" width=\"150\"></el-table-column>\n    <el-table-column align=\"center\" label=\"用户\">\n      <template slot-scope=\"scope\">\n        <div v-for=\"user in scope.row.users\">\n          <div v-text=\"user.nickname\" style=\"display: inline-block;vertical-align: middle;\"></div>\n        </div>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" label=\"菜单&权限\" width=\"420\">\n      <template slot-scope=\"scope\">\n        <el-tag v-if=\"scope.row.roleName==adminName\" type=\"success\">全部</el-tag>\n        <div v-else>\n          <div v-for=\"menu in scope.row.menus\" style=\"text-align: left\">\n            <span style=\"width: 100px;display: inline-block;text-align: right \">{{menu.menuName}}</span>\n            <el-tag\n              v-for=\"perm in menu.permissions\"\n              :key=\"perm.permissionName\"\n              v-text=\"perm.permissionName\"\n              style=\"margin-right: 3px;\"\n              type=\"primary\"\n            ></el-tag>\n          </div>\n        </div>\n      </template>\n    </el-table-column>\n    <el-table-column\n      align=\"center\"\n      label=\"管理\"\n      width=\"220\"\n      v-if=\"hasPerm('role:update') ||hasPerm('role:delete') \"\n    >\n      <template slot-scope=\"scope\">\n        <div v-if=\"scope.row.roleName!='管理员'\">\n          <el-button\n            type=\"primary\"\n            icon=\"edit\"\n            @click=\"showUpdate(scope.$index)\"\n            v-if=\"hasPerm('role:update')\"\n          >修改</el-button>\n          <el-button\n            v-if=\" scope.row.users && scope.row.users.length===0 && hasPerm('role:delete')\"\n            type=\"danger\"\n            icon=\"delete\"\n            @click=\"removeRole(scope.$index)\"\n          >删除</el-button>\n        </div>\n      </template>\n    </el-table-column>\n  </el-table>\n  <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n    <el-form\n      class=\"small-space\"\n      :model=\"tempRole\"\n      label-position=\"left\"\n      label-width=\"100px\"\n      style=\"width: 600px; margin-left:50px;\"\n    >\n      <el-form-item label=\"角色名称\" required>\n        <el-input type=\"text\" v-model=\"tempRole.roleName\" style=\"width: 250px;\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"菜单&权限\" required>\n        <div v-for=\" (menu,_index) in allPermission\" :key=\"menu.menuName\">\n          <span style=\"width: 100px;display: inline-block;\">\n            <el-button\n              :type=\"isMenuNone(_index)?'':(isMenuAll(_index)?'success':'primary')\"\n              size=\"mini\"\n              style=\"width:80px;\"\n              @click=\"checkAll(_index)\"\n            >{{menu.menuName}}</el-button>\n          </span>\n          <div style=\"display: inline-block;margin-left:20px;\">\n            <el-checkbox-group v-model=\"tempRole.permissions\">\n              <el-checkbox\n                v-for=\"perm in menu.permissions\"\n                :label=\"perm.id\"\n                @change=\"checkRequired(perm,_index)\"\n                :key=\"perm.id\"\n              >\n                <span :class=\"{requiredPerm:perm.requiredPerm===1}\">{{perm.permissionName}}</span>\n              </el-checkbox>\n            </el-checkbox-group>\n          </div>\n        </div>\n        <p style=\"color:#848484;\">说明:红色权限为对应菜单内的必选权限</p>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n      <el-button v-if=\"dialogStatus=='create'\" type=\"success\" @click=\"createRole\">创 建</el-button>\n      <el-button type=\"primary\" v-else @click=\"updateRole\">修 改</el-button>\n    </div>\n  </el-dialog>\n</div>\n",null]}